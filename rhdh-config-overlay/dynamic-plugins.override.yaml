includes:
  - dynamic-plugins.default.yaml

plugins:
  # disable github org ingestion by default (enable by setting disabled: false and adding config to app-config.local.yaml)
  - package: ./dynamic-plugins/dist/backstage-plugin-catalog-backend-module-github-org-dynamic
    disabled: true
  - package: ./local-plugins/kuadrant
    disabled: false
    pluginConfig:
      dynamicPlugins:
        frontend:
          internal.plugin-kuadrant:
            dynamicRoutes:
              - path: /kuadrant
                importName: KuadrantPage
                menuItem:
                  text: Kuadrant
                  icon: category
            mountPoints:
              - mountPoint: entity.page.overview/cards
                importName: EntityKuadrantApiAccessCard
                config:
                  layout:
                    gridColumnEnd:
                      lg: "span 4"
                      md: "span 6"
                      xs: "span 12"
                  if:
                    allOf:
                      - isKind: api
              - mountPoint: entity.page.api-keys/cards
                importName: EntityKuadrantApiKeysContent
                config:
                  layout:
                    gridColumnEnd:
                      lg: "span 12"
                      md: "span 12"
                      xs: "span 12"
                  if:
                    allOf:
                      - isKind: api
              - mountPoint: entity.page.api-product/cards
                importName: EntityKuadrantApiProductInfoContent
                config:
                  layout:
                    gridColumnEnd:
                      lg: "span 12"
                      md: "span 12"
                      xs: "span 12"
                  if:
                    allOf:
                      - isKind: api
            entityTabs:
              - path: /api-product
                title: API Product
                mountPoint: entity.page.api-product
                if:
                  allOf:
                    - isKind: api
              - path: /api-keys
                title: API Keys
                mountPoint: entity.page.api-keys
                if:
                  allOf:
                    - isKind: api
  - package: ./local-plugins/kuadrant-backend-main
    disabled: false
    pluginConfig: {}
  - package: ./local-plugins/kuadrant-catalog-module
    disabled: false
    pluginConfig: {}
  - package: ./dynamic-plugins/dist/backstage-community-plugin-rbac
    disabled: false
    pluginConfig:
      dynamicPlugins:
        frontend:
          backstage-community.plugin-rbac:
            appIcons:
              - name: rbacIcon
                importName: RbacIcon
            dynamicRoutes:
              - path: /rbac
                importName: RbacPage
                menuItem:
                  icon: rbacIcon
                  text: RBAC
            menuItems:
              rbac:
                parent: admin
                icon: rbacIcon
